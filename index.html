<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å®‰è½¯è¿›ç¨‹é€ŸæŸ¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-5">
    <div class="max-w-3xl mx-auto">
        <div class="bg-white p-6 rounded-xl shadow-md">
            <h2 class="text-xl font-bold mb-4 text-gray-700">ğŸ” è¿›ç¨‹æ¸…å•å¿«é€Ÿè¯†åˆ«</h2>
            <textarea id="input" class="w-full h-64 p-3 border rounded-lg font-mono text-sm bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="ç²˜è´´ tasklist æˆ– ps -aux å†…å®¹..."></textarea>
            <button onclick="check()" class="mt-4 w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700">è¯†åˆ«å®‰è½¯</button>
        </div>

        <div id="results" class="mt-6 grid gap-3"></div>
    </div>

    <script>
        let db = {};

        // å¼‚æ­¥åŠ è½½ç¦»çº¿åº“
        fetch('./data.json')
            .then(res => res.json())
            .then(data => db = data);

        function check() {
            const text = document.getElementById('input').value;
            const resDiv = document.getElementById('results');
            resDiv.innerHTML = '';
            
            // æå–æ‰€æœ‰å¯èƒ½çš„â€œå•è¯â€ï¼ˆè¿›ç¨‹åé€šå¸¸ä¸å«ç©ºæ ¼ï¼‰
            // è¿™ä¸ªæ­£åˆ™å¯ä»¥æå– Windows çš„ .exe æˆ– Linux çš„è¿›ç¨‹å
            const words = text.match(/[a-zA-Z0-9\._-]+\b/g) || [];
            const found = new Set();

            words.forEach(word => {
                // éå†æ•°æ®åº“è¿›è¡ŒåŒ¹é…
                for (let proc in db) {
                    if (word.toLowerCase() === proc.toLowerCase()) {
                        found.add(proc);
                    }
                }
            });

            if (found.size === 0) {
                resDiv.innerHTML = '<div class="text-center text-gray-400 mt-4">æœªå‘ç°åŒ¹é…çš„å®‰è½¯è¿›ç¨‹</div>';
                return;
            }

            found.forEach(proc => {
                resDiv.innerHTML += `
                    <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500 flex justify-between">
                        <span class="font-bold text-gray-800">${db[proc]}</span>
                        <code class="text-gray-400 text-sm">${proc}</code>
                    </div>`;
            });
        }
    </script>
</body>
</html>